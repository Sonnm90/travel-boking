<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Travel Booking</title>

    <!-- font awesome cdn link  -->
    <script
      src="https://kit.fontawesome.com/68734f4fab.js"
      crossorigin="anonymous"
    ></script>
    <!-- custom css file link  -->
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <!-- header section starts  -->

    <header>
      <div id="menu-bar" class="fas fa-bars"></div>

      <a href="#" class="logo"><span>T</span>ravel</a>

      <nav class="navbar">
        <a href="#home">Trang chủ</a>
        <a href="#book">Book Lịch</a>
        <a href="#packages">Tour trọn gói</a>
        <a href="#gallery">Điểm đến</a>
        <a href="#review">Phản hồi</a>
        <a href="#contact">Liên hệ</a>
        <!-- <a href="./register.html">Đăng nh</a> -->
      </nav>

      <div class="icons">
        <i class="fas fa-search" id="search-btn"></i>
        <i class="fas fa-user myMenu" id="login-btn"></i>
        <div class="dropdown">
          <ul>
            <li> <a href="#">Hồ sơ cá nhân</a></li>
            <li><a href="./myfavortice.html">My Favortice</a></li>
            <li><a href="./mybooking.html">My Booking</a></li>
          </ul>       
        </div>
        <span style="color: white; font-size: 2rem" id="textLog">
          Đăng nhập</span>
      </div>

      <form action="" class="search-bar-container">
        <input type="search" id="search-bar" placeholder="search here..." />
        <label for="search-bar" class="fas fa-search"></label>
      </form>
    </header>

    <!-- header section ends -->

    <!-- login form container  -->

    <div class="login-form-container">
      <i class="fas fa-times" id="form-close"></i>

      <form action="" id="form-login">
        <h3>login</h3>
        <input
          type="email"
          id="email"
          class="box"
          placeholder="enter your email"
        />
        <input
          type="password"
          id="password"
          class="box"
          placeholder="enter your password"
        />
        <input type="submit" id="loginBtn" value="login now" class="btn" />
        <input type="checkbox" id="remember" />
        <label for="remember">remember me</label>
        <p>forget password? <a href="./register.html">Nhấn vào đây</a></p>
        <p>don't have and account? <a href="./register.html">Đăng ký</a></p>
      </form>
    </div>

    <!-- home section starts  -->

    <section class="home" id="home">
      <div class="content">
        <h3>DU LỊCH VIỆT NAM</h3>
        <p>Hãy cùng khám phá những vùng đất mới!</p>
        <a href="./register.html" class="btn" id="btnRegister">ĐĂNG KÝ</a>
      </div>

      <div class="controls">
        <span class="vid-btn active" data-src="images/vietnam1.jpg"></span>
        <span class="vid-btn" data-src="images/vid-2.mp4"></span>
        <span class="vid-btn" data-src="images/vid-3.mp4"></span>
        <span class="vid-btn" data-src="images/vid-4.mp4"></span>
        <span class="vid-btn" data-src="images/vid-5.mp4"></span>
      </div>

      <div class="video-container">
        <video
          src="images/vid-1.mp4"
          id="video-slider"
          loop
          autoplay
          muted
        ></video>
      </div>
    </section>

    <!-- home section ends -->

    <!-- packages section starts  -->

    <section class="packages" id="packages">
      <h1 class="heading">
        <span>H</span>
        <span>O</span>
        <span>T</span>
        <span>T</span>
        <span>O</span>
        <span>U</span>
        <span>R</span>
      </h1>

      <div class="box-container">
        <div class="box">
          <img src="images/vietnam1.jpg" alt="" />
          <div class="content">
            <h3><i class="fas fa-map-marker-alt"></i> Hạ Long</h3>
            <p>
              Hạ Long là thành phố tỉnh lỵ của tỉnh Quảng Ninh, Việt Nam. Thành
              phố được đặt theo tên của vịnh Hạ Long, vịnh biển nằm ở phía nam
              thành phố và là một di sản thiên nhiên nổi tiếng của Việt Nam. Tên
              "Hạ Long" nghĩa là "con rồng bay xuống
            </p>
            <div class="hearts">
              <i class="fa-solid fa-heart addFavourite"></i>
            </div>
            <div class="price">
              <i class="fa-solid fa-calendar-days"></i> 2.000.000 đ <span>3.000.000 đ</span>
            </div>
            <a href="#" class="btn">ĐẶT VÉ</a>
          </div>
        </div>

        <div class="box">
          <img src="images/vietnam2.jpeg" alt="" />
          <div class="content">
            <h3><i class="fas fa-map-marker-alt"></i> Fansipan</h3>
            <p>
              Fansipan là đỉnh núi cao nhất của Việt Nam, nằm trên dãy núi Hoàng
              Liên Sơn ở vùng Tây Bắc Bộ Việt Nam. Đỉnh núi có độ cao tuyệt đối
              là 3147,3 m. Fansipan cũng là đỉnh núi cao nhất của bán đảo Đông
              Dương và được mệnh danh là "Nóc nhà Đông Dương
            </p>
            <div class="hearts">
              <i class="fa-solid fa-heart addFavourite"></i>
            </div>
            <div class="price">
              <i class="fa-solid fa-calendar-days"></i> 2.000.000 đ <span>3.000.000 đ</span>
            </div>
            <a href="#" class="btn">ĐẶT VÉ</a>
          </div>
        </div>

        <div class="box">
          <img src="images/vietnam3.jpg" alt="" />
          <div class="content">
            <h3><i class="fas fa-map-marker-alt"></i> Hội An</h3>
            <p>
              Hội An là một thành phố trực thuộc tỉnh Quảng Nam, Việt Nam. Phố
              cổ Hội An từng là một thương cảng quốc tế sầm uất, gồm những di
              sản kiến trúc đã có từ hàng trăm năm trước, được UNESCO công nhận
              là di sản văn hóa thế giới từ năm 1999.
            </p>
            <div class="hearts">
              <i class="fa-solid fa-heart addFavourite"></i>
            </div>
            <div class="price">
              <i class="fa-solid fa-calendar-days"></i> 2.000.000 đ <span>3.000.000 đ</span>
            </div>
            <a href="#" class="btn">ĐẶT VÉ</a>
          </div>
        </div>

        <div class="box">
          <img src="images/vietnam4.jpg" alt="" />
          <div class="content">
            <h3><i class="fas fa-map-marker-alt"></i> Sơn La</h3>
            <p>
              Mộc Châu là một huyện thuộc tỉnh Sơn La, nằm cách Hà Nội 180km về
              phía Tây Bắc. Mộc Châu sở hữu 4 mùa rõ rệt, có khí hậu cao nguyên
              ôn hoà
            </p>
            <div class="hearts">
              <i class="fa-solid fa-heart addFavourite"></i>
            </div>
            <div class="price">
              <i class="fa-solid fa-calendar-days"></i> 2.000 K <span>3.000 K</span>
            </div>
            <a href="#" class="btn">ĐẶT VÉ</a>
          </div>
        </div>

        <div class="box">
          <img src="images/vietnam5.jpg" alt="" />
          <div class="content">
            <h3><i class="fas fa-map-marker-alt"></i> Đồng Tháp</h3>
            <p>
              Đồng Tháp là một tỉnh thuộc vùng Đồng bằng sông Cửu Long, Việt
              Nam. Vùng đất Đồng Tháp đã được Chúa Nguyễn khai phá vào khoảng
              thế kỷ XVII, XVIII.
            </p>
            <div class="hearts">
              <i class="fa-solid fa-heart addFavourite"></i></i>
            </div>
            <div class="price">
              <i class="fa-solid fa-calendar-days"></i> 2.000 K <span>3.000 K</span>
            </div>
            <a href="#" class="btn">ĐẶT VÉ</a>
          </div>
        </div>

        <div class="box">
          <img src="images/vietnam6.jpg" alt="" />
          <div class="content">
            <h3><i class="fas fa-map-marker-alt"></i> Phan Thiết</h3>
            <p>
              Phan Thiết là một thành phố ven biển và là tỉnh lỵ, trung tâm
              chính trị, kinh tế, văn hóa và khoa học kỹ thuật của tỉnh Bình
              Thuận, Việt Nam
            </p>
            <div class="hearts">
              <i class="fa-solid fa-heart addFavourite"></i>
            </div>
            <div class="price">
              <i class="fa-solid fa-calendar-days"></i>  2.000 K <span>3.000 K</span>
            </div>
            <a href="#" class="btn btnBook" >ĐẶT VÉ</a>
          </div>
        </div>
      </div>
    </section>

    <!-- packages section ends -->

    <!-- gallery section starts  -->

    <section class="gallery" id="gallery">
      <h1 class="heading">
        <span>Đ</span>
        <span>I</span>
        <span>Ể</span>
        <span>M</span>
        <span>Đ</span>
        <span>Ế</span>
        <span>N</span>
      </h1>

      <div class="box-container">
        <div class="box">
          <img src="images/vietnam1.jpg" alt="" />
          <div class="content">
            <h3>Điểm đến hấp dẫn</h3>
            <p>
              Mộc Châu là một huyện thuộc tỉnh Sơn La, nằm cách Hà Nội 180km về
              phía Tây Bắc.
            </p>
            <a href="#" class="btn">XEM THÊM</a>
          </div>
        </div>
        <div class="box">
          <img src="images/vietnam2.jpeg" alt="" />
          <div class="content">
            <h3>Điểm đến hấp dẫn</h3>
            <p>
              Mộc Châu là một huyện thuộc tỉnh Sơn La, nằm cách Hà Nội 180km về
              phía Tây Bắc.
            </p>
            <a href="#" class="btn">XEM THÊM</a>
          </div>
        </div>
        <div class="box">
          <img src="images/vietnam3.jpg" alt="" />
          <div class="content">
            <h3>Điểm đến hấp dẫn</h3>
            <p>
              Mộc Châu là một huyện thuộc tỉnh Sơn La, nằm cách Hà Nội 180km về
              phía Tây Bắc.
            </p>
            <a href="#" class="btn">XEM THÊM</a>
          </div>
        </div>
        <div class="box">
          <img src="images/vietnam4.jpg" alt="" />
          <div class="content">
            <h3>Điểm đến hấp dẫn</h3>
            <p>
              Mộc Châu là một huyện thuộc tỉnh Sơn La, nằm cách Hà Nội 180km về
              phía Tây Bắc.
            </p>
            <a href="#" class="btn">XEM THÊM</a>
          </div>
        </div>
        <div class="box">
          <img src="images/vietnam5.jpg" alt="" />
          <div class="content">
            <h3>Điểm đến hấp dẫn</h3>
            <p>
              Mộc Châu là một huyện thuộc tỉnh Sơn La, nằm cách Hà Nội 180km về
              phía Tây Bắc.
            </p>
            <a href="#" class="btn">XEM THÊM</a>
          </div>
        </div>
        <div class="box">
          <img src="images/vietnam6.jpg" alt="" />
          <div class="content">
            <h3>Điểm đến hấp dẫn</h3>
            <p>
              Mộc Châu là một huyện thuộc tỉnh Sơn La, nằm cách Hà Nội 180km về
              phía Tây Bắc.
            </p>
            <a href="#" class="btn">XEM THÊM</a>
          </div>
        </div>
        <div class="box">
          <img src="images/vietnam1.jpg" alt="" />
          <div class="content">
            <h3>Điểm đến hấp dẫn</h3>
            <p>
              Mộc Châu là một huyện thuộc tỉnh Sơn La, nằm cách Hà Nội 180km về
              phía Tây Bắc.
            </p>
            <a href="#" class="btn">XEM THÊM</a>
          </div>
        </div>
        <div class="box">
          <img src="images/vietnam2.jpeg" alt="" />
          <div class="content">
            <h3>Điểm đến hấp dẫn</h3>
            <p>
              Mộc Châu là một huyện thuộc tỉnh Sơn La, nằm cách Hà Nội 180km về
              phía Tây Bắc.
            </p>
            <a href="#" class="btn">XEM THÊM</a>
          </div>
        </div>
        <div class="box">
          <img src="images/vietnam3.jpg" alt="" />
          <div class="content">
            <h3>Điểm đến hấp dẫn</h3>
            <p>
              Mộc Châu là một huyện thuộc tỉnh Sơn La, nằm cách Hà Nội 180km về
              phía Tây Bắc.
            </p>
            <a href="#" class="btn">XEM THÊM</a>
          </div>
        </div>
      </div>
    </section>

    <!-- gallery section ends -->

    <!-- review section starts  -->

    <section class="review" id="review">
      <h1 class="heading">
        <span>r</span>
        <span>e</span>
        <span>v</span>
        <span>i</span>
        <span>e</span>
        <span>w</span>
      </h1>
    </section>

    <!-- review section ends -->

    <!-- contact section starts  -->

    <section class="contact" id="contact">
      <h1 class="heading">
        <span>c</span>
        <span>o</span>
        <span>n</span>
        <span>t</span>
        <span>a</span>
        <span>c</span>
        <span>t</span>
      </h1>
    </section>

    <!-- contact section ends -->

    <!-- brand section  -->

    <!-- footer section  -->

    <section class="footer">
      <div class="box-container" id="contact">
        <div class="box">
          <h3>Giới thiệu:</h3>
          <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Assumenda
            quas magni pariatur est accusantium voluptas enim nemo facilis sit
            debitis.
          </p>
        </div>
        <div class="box">
          <h3>Chi nhánh</h3>
          <a href="#">Hà Nội:</a>
          <a href="#">Đà Nẵng:</a>
          <a href="#">TP Hồ Chí Minh:</a>
        </div>
        <div class="box">
          <h3>Liên hệ:</h3>
          <a href="#">facebook</a>
          <a href="#">instagram</a>
          <a href="#">twitter</a>
        </div>
      </div>

      <h1 class="credit">created by <span> </span> | all rights reserved!</h1>
    </section>

    <!-- custom js file link  -->
    <!-- <script src="script.js"></script> -->
  </body>

  <script>
    let searchBtn = document.querySelector("#search-btn");
    let searchBar = document.querySelector(".search-bar-container");
    let formBtn = document.querySelector("#login-btn");
    let loginForm = document.querySelector(".login-form-container");
    let formClose = document.querySelector("#form-close");
    let menu = document.querySelector("#menu-bar");
    let navbar = document.querySelector(".navbar");
    let videoBtn = document.querySelectorAll(".vid-btn");
    let textLog = document.querySelector("#textLog");
    let hideMenu = document.querySelector('.myMenu');
    let dropdown = document.querySelector('.dropdown');

    window.onscroll = () => {
      searchBtn.classList.remove("fa-times");
      searchBar.classList.remove("active");
      menu.classList.remove("fa-times");
      navbar.classList.remove("active");
      loginForm.classList.remove("active");
    };

    menu.addEventListener("click", () => {
      menu.classList.toggle("fa-times");
      navbar.classList.toggle("active");
    });

    searchBtn.addEventListener("click", () => {
      searchBtn.classList.toggle("fa-times");
      searchBar.classList.toggle("active");
    });

    // formBtn.addEventListener('click', () =>{
    //     loginForm.classList.add('active');
    // });
    textLog.addEventListener("click", () => {
      loginForm.classList.add("active");
    });

    formClose.addEventListener("click", () => {
      loginForm.classList.remove("active");
    });

    videoBtn.forEach((btn) => {
      btn.addEventListener("click", () => {
        document.querySelector(".controls .active").classList.remove("active");
        btn.classList.add("active");
        let src = btn.getAttribute("data-src");
        document.querySelector("#video-slider").src = src;
      });
    });

    /*Kiểm tra user đăng nhập
     */
    const USERNAME = "username";
    const PASSWORD = "password";

    let emailField = document.getElementById("email");
    let passwordField = document.getElementById("password");
    let submitLoginField = document.getElementById("loginBtn");
    let remember = document.getElementById("remember_me");

    submitLoginField.addEventListener("click", (e) => {
      // kiem tra su hop le cua email
      e.preventDefault();
      if (emailField.value == "") {
        console.warn("email khong duoc bo trong");
      } else if (emailField.value.length < 6) {
        console.warn("email can lon hon hoac bang 6 ky tu");
      } else if (emailField.value.length > 32) {
        console.error("email can nho hon hoac bang 32 ky tu");
      } else {
        console.log("email ok");
      }

      // kiem tra su hop le cua password
      if (passwordField.value == "") {
        console.warn("password khong duoc bo trong");
      } else {
        console.log("password ok");
      }

      let username = localStorage.getItem(USERNAME);
      let password = localStorage.getItem(PASSWORD);

      if (username == emailField.value && password == passwordField.value) {
        // console.log("vung oi mo ra");

        // if (remember.checked) {
        //   // Lay ra thoi gian sau 24 gio
        //   var currentDateObj = new Date();
        //   var numberOfMlSeconds = currentDateObj.getTime();
        //   var date24 = new Date(numberOfMlSeconds + 24 * 60 * 60 * 1000);

        //   document.cookie = "isRemember=true; expires=" + date24;
        // }
        sessionStorage.setItem(USERNAME, emailField.value);
        sessionStorage.setItem(PASSWORD, passwordField.value);
        localStorage.setItem(USERNAME, emailField.value);
        localStorage.setItem(PASSWORD, passwordField.value);
        window.location.href = "./index.html";
      } else {
        console.log("chuc ban may man lan sau");
      }
    });

    if (getCookie("isRemember")) {
      window.location.href = "./index.html";
    }

    function getCookie(cookieName) {
      let cookie = {};
      document.cookie.split(";").forEach(function (el) {
        let [key, value] = el.split("=");
        cookie[key.trim()] = value;
      });
      return cookie[cookieName];
    }

    /* Kiểm tra Session nếu có load giao diện User
     */
    let text = document.querySelector("#textLog");
    let btnRegister = document.querySelector("#btnRegister");
    let formlogin = document.querySelector("#form-login");
    let addHeart = document.querySelectorAll('.addFavourite');
    let books = document.querySelectorAll('.btnBook');
    let listHearts = [];
    let span = document.querySelectorAll('span');
   

    // Kiểm tra Session
    if (sessionStorage.getItem(USERNAME) != null) {

      // Thay đổi hiển thị tên User
      span[1].lastChild.textContent = sessionStorage.getItem(USERNAME);
      btnRegister.style.display = "none";

      // Load tính năng yêu thích
    //  let addHeart = document.querySelectorAll('.addFavourite');
    console.log(addHeart);

    console.log(addHeart[1]);
    console.log(addHeart[1].parentNode.parentNode.parentNode.childNodes[1].src);
    console.log(addHeart[1].parentNode.parentNode.childNodes[1].childNodes[1].textContent);
    console.log(addHeart[1].parentNode.parentNode.childNodes[7].childNodes[2].textContent);

      for ( i = 0 ; i < addHeart.length ; i++){
        addHeart[i].addEventListener('click', function(){
          // console.log("abc");
          // console.log(this);
          // console.log(this.parentNode.parentNode.childNodes[7].childNodes[2].textContent);
          this.style.color = ( this.style.color=='orange')?'black':'orange';
          listHearts.push({
            img: this.parentNode.parentNode.parentNode.childNodes[1].src,
            name: this.parentNode.parentNode.childNodes[1].childNodes[1].textContent,
            price: this.parentNode.parentNode.childNodes[7].childNodes[2].textContent
          });
          console.log(listHearts);
        localStorage.setItem(sessionStorage.getItem(USERNAME),JSON.stringify(listHearts));
        });
      };
      // Load tính năng Booking


      books.forEach(book => {
        book.addEventListener('click',()=>{
          
        })
        
      });
      console.log(hideMenu);
      console.log(dropdown);
      hideMenu.addEventListener('click',()=>{
       dropdown.style.display = (dropdown.style.display== 'none')?'block':'none';
       });  

    } else {
    }
  </script>
</html>
